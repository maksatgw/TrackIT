@model UserGetDto
@{
    ViewData["Title"] = "Details";
}

<!-- Quick Actions -->
<div class="row items-push">
    <div class="col-6">
        <a class="block block-rounded block-link-shadow text-center h-100 mb-0" href="/user/update?id=@Model.Id">
            <div class="block-content py-5">
                <div class="fs-3 fw-semibold mb-1">
                    <i class="fa fa-pencil-alt"></i>
                </div>
                <p class="fw-semibold fs-sm text-muted text-uppercase mb-0">
                    Kullanıcıyı Düzenle
                </p>
            </div>
        </a>
    </div>
    <div class="col-6">
        <a class="block block-rounded block-link-shadow text-center h-100 mb-0" href="/user/remove?id=@Model.Id">
            <div class="block-content py-5">
                <div class="fs-3 fw-semibold text-danger mb-1">
                    <i class="fa fa-times"></i>
                </div>
                <p class="fw-semibold fs-sm text-danger text-uppercase mb-0">
                    Kullanıcıyı Sil
                </p>
            </div>
        </a>
    </div>
</div>
<!-- END Quick Actions -->
<!-- User Info -->
<div class="block block-rounded">
    <div class="block-content text-center">
        <div class="py-4">
            <div class="mb-3">
                <img class="img-avatar img-avatar96" src="~/web/src/assets/media/avatars/avatar15.jpg" alt="">
            </div>
            <h6>@Model.UserName</h6>
            <h1 class="fs-lg mb-0">
                @Model.Email
            </h1>
            @foreach (var item in Model.Roles)
            {
                <p class="text-muted">
                    <i class="fa fa-award text-warning me-1"></i>
                    @item
                </p>
            }
        </div>
    </div>
    <div class="block-content bg-body-light text-center">
        <div class="row items-push text-uppercase">
            <div class="col-12 col-md-12">
                <div class="fw-semibold text-dark mb-1">Zimmet Sayısı</div>
                <a class="link-fx fs-3" href="javascript:void(0)">@Model.UserProductCount</a>
            </div>
        </div>
    </div>
</div>

<div class="block-content">
    <!-- All Products Table -->
    <div class="table-responsive">
        <table class="table table-borderless table-striped table-vcenter">
            <thead>
                <tr>
                    <th class="text-center" style="width: 100px;">Ürün ID</th>
                    <th class="d-none d-sm-table-cell text-center">Ürün İsmi</th>
                    <th class="d-none d-sm-table-cell text-center">Zimmet Tarihi</th>
                    <th class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.ProductRegistirations)
                {
                    <tr>
                        <td class="text-center fs-sm">
                            <strong>@item.ProductId</strong>
                        </td>
                        <td class="d-none d-sm-table-cell text-center fs-sm">@item.Product.Name</td>
                        <td class="d-none d-sm-table-cell text-center fs-sm">@item.RegistirationDate.ToShortDateString()</td>
                        <td class="text-center fs-sm">
                            <a class="btn btn-sm btn-alt-secondary" href="/Product/Update?id=@item.ProductId">
                                <i class="fa fa-fw fa-pen"></i>
                            </a>
                            <a class="btn btn-sm btn-alt-secondary" onclick="confirmDelete(@item.ProductRegistirationId, '/ProductRegister/Remove?requestFrom=user&id')">
                                <i class="fa fa-fw fa-times text-danger"></i>
                            </a>

                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
<!-- END User Info -->

<partial name="/Views/User/Partials/_IndexScripts.cshtml" />

@section Scripts{
    @await Html.PartialAsync("_SharedScripts")
}